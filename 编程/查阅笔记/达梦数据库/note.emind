{"nodeData":{"id":"7166b104d4fc8a7c","topic":"达梦数据库","root":true,"children":[{"topic":"安装","id":"7166e2972d776062","direction":0,"children":[{"topic":"环境确认","id":"71674020b65f921a","children":[{"topic":"linux内核版本","id":"7167450dd38f1578","memo":">2.6\ncat /proc/version\nuname -a\nuname -r"},{"topic":"glibc版本","id":"716753d45e9856f6","memo":">2.3\nldd --verstion\nrpm -qa | grep glibc"},{"topic":"gcc","id":"71675b2f9d1e7640","memo":"需安装\ngcc --version\nrpm -qa|grep gcc"},{"topic":"磁盘空间","id":"716769720b257231","memo":"挂载点 / >20G\ndf -h"},{"topic":"内存","id":"71677649a11602ae","memo":">3G\nfree -m\ncat /proc/meminfo"}]},{"topic":"安装规划","id":"71677fee6c31caec","children":[{"topic":"创建用户组","id":"7167816f89612188","memo":"groupadd dinstall"},{"topic":"创建用户","id":"7167829b06644a66","memo":"useradd -g dinstall -m -d /home/dmdba -s /bin/bash dmdba\n\nid dmdba\n\npasswd dmdba"},{"topic":"创建安装目录","id":"7167833b0f8beaa1","memo":"mkdir /dm8\nchown dmdba:dinstall /dm8\nll -ld /dm8\n"},{"topic":"设置最大可打开文件数","id":"7167843610c4e4d2","memo":"ulimit -a\nulimit -n 20480\n\nvim /etc/security/limits.conf\n```\nuser soft nofile 102400\nuser hard nofile 102400"}]},{"topic":"开始安装","id":"7167c2d6513ce25c","children":[{"topic":"挂载镜像","id":"7167c4368667e5ef","memo":"mkdir /mnt/dm\nmount /ope/dm8...iso /mnt/dm\n"},{"topic":"安装","id":"7167c5bb94d85347","children":[{"topic":"图形化","id":"7167d4aa85b6b4ee","memo":"[root]\nxhost +\necho $DISPLAY\nsu - dmdba\necho $DISPLAY\nexport DISPLAY=[root]输出值\n"},{"topic":"命令行","id":"7167d780315a2200","memo":"./DMInstall.bin -i\n"}]},{"topic":"ubuntu 安装","id":"8085a742cc75b976","hyperLink":"https://blog.csdn.net/qq_31101891/article/details/110059668#:~:text=1.%E5%AE%89%E8%A3%85VC%2B%2B2017%EF%BC%88%E4%B8%80%E8%88%AC%E5%A4%A7%E5%AE%B6%E9%83%BD%E8%A3%85%E5%85%A8%E5%AE%B6%E6%A1%B6%EF%BC%8Csteam%E5%92%8C3A%E7%8E%A9%E8%80%8D%E5%BF%85%E5%A4%87%EF%BC%89%EF%BC%8C%E6%8A%8A%E8%BE%BE%E6%A2%A6%E7%9A%84bin%E7%9B%AE%E5%BD%95%E9%85%8D%E5%88%B0%E7%B3%BB%E7%BB%9Fpath%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%87%8C%202.%E5%AE%89%E8%A3%85VS2017%E5%8F%8A%E4%BB%A5%E4%B8%8A%EF%BC%8C%E5%A6%82%E6%9E%9C1%E8%B6%B3%E5%A4%9F%E9%82%A3%E5%B0%B1%E6%B2%A1%E5%BF%85%E8%A6%81%EF%BC%8C%E5%8D%B0%E8%B1%A1%E4%B8%AD%E4%B8%8D%E5%AE%89%E8%A3%85%E4%B8%8D%E8%A1%8C%EF%BC%8C%E6%98%AF%E5%9C%A8%E7%BA%BF%E5%AE%89%E8%A3%85%E5%8F%AF%E8%83%BD%E8%BF%9E%E6%8E%A5%E8%B6%85%E6%97%B6%EF%BC%8C%E8%BF%99%E6%97%B6%E5%80%99%E4%BD%A0%E5%8F%AF%E4%BB%A5%E9%80%89%E6%8B%A9%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91,3.%E5%88%B0dmPython%E6%BA%90%E7%A0%81%E7%9B%AE%E5%BD%95%E4%B8%8Bpython%20setup.py%20install"}]},{"topic":"卸载","id":"71681d6d07e27cc6","memo":"# 进入到达梦根目录\n./uninstall.sh -i\n"}]},{"topic":"创建实例&服务","id":"7166e4ca73998bf4","memo":"","children":[{"topic":"创建实例","id":"71682f0173c545aa","memo":"cd /dm8/bin\n./dminit path=/dm8/data db_name=DMTEST instance_name=DMTEST port_num=5237 page_size=16 SYSDBA_PWD=Dameng123"},{"topic":"创建服务","id":"7168327cd7bd8047","memo":"[root]\ncd /dm8/script/\n./dm_service_installer.sh -t dmserver -p DMTEST -dm_ini /dm8/data/DMTEST/dm.ini"},{"topic":"启动服务","id":"8088e978ddd268d1","memo":"systemctl start DmService..\n"},{"topic":"删除服务","id":"71683a2e44a090c1","memo":"[root]\ncd /dm8/script/\n./dm_service_uninstaller.sh -n DmServiceDMTEST"}],"direction":1},{"topic":"数据库连接&相关操作","id":"7166f210cf2d8c83","children":[{"topic":"disql","id":"7168414fab9d3571","memo":"cd /dm8/bin\n./disql SYSDBA/SYSDBA:5236\n\n远程连接\n./disql SYSDBA/SYSDBA@192.168.31.124:5236"},{"topic":"参数配置","id":"71685f685a5268ca","hyperLink":"E:/dailyfile/books/note/编程/达梦数据库/resource/参数配置.md"},{"topic":"表空间","id":"716a8dc1f33d4fe8","children":[{"topic":"类型","id":"716abac15299a4b9","hyperLink":"E:/dailyfile/books/note/编程/达梦数据库/resource/表空间类型.md","memo":"alter system set 'TEMP_SIZE'=64 spfile;","children":[{"topic":"SYSTEM","id":"716aec84df9feae8"},{"topic":"ROLL","id":"716aee518c68cd26"},{"topic":"MAIN","id":"716aefbdd95d23f5"},{"topic":"TEMP","id":"716af0275c682632"},{"topic":"HMAN","id":"716af0bc0afda7bf"}]},{"topic":"操作","id":"716adbf08a12bcf8","children":[{"topic":"查看","id":"716ae3ddcfc22b6e","memo":"select * from dba_tablespaces;\n\nselect * from dba_data_files;"},{"topic":"创建","id":"716ae44c3d5e49f1","memo":"create tablespace 表空间名 datafile '数据文件路径' SIZE 数据文件大小(单位为mb);\n\n\n# 查询页大小的4096倍，并换算成MB\nselect page*4096/1024/1024"},{"topic":"修改","id":"716ae67d6b92b5b2","memo":"","children":[{"topic":"大小","id":"716b296d5092b186","memo":"alter tablespace 表空间名 resize datafile '数据文件路径' to 数据文件大小(单位为mb);"},{"topic":"自动增长","id":"716b2af373c45bf4","memo":"alter tablespace 表空间名 datafile '数据文件路径' autoextend on next 增长步长 maxsize 文件最大值"}]},{"topic":"删除","id":"716ae7e58b155e9b","memo":"drop tablesapce 表空间名;"},{"topic":"增加数据文件","id":"716ae95b20dc6540","memo":"alter tablespace 表空间名 add datafile '数据文件路径' size 数据文件大小(单位为mb);"},{"topic":"修改名称","id":"716afda9d922b5ff","memo":"alter tablespace 修改前表空间名 rename to 修改后表空间名;"}]},{"topic":"迁移","id":"716b4c91714cc3a4","memo":"迁移路径必须由安装数据库用户创建，或授予了读写权限","children":[{"topic":"表空间离线","id":"716b5ed93ebcf778","memo":"alter tablespace 表空间名 offline;"},{"topic":"重命名并迁移","id":"716b612b9e738223","memo":"alter tablespace 表空间名 rename datafile '重命名的数据文件名' to '路径';"},{"topic":"上线","id":"716b637da040bdc1","memo":"alter tablespace 表空间名 online;"}]},{"topic":"TEMP表空间","id":"716b873d0021305c","children":[{"topic":"查询","id":"716b8bc3c1097882","memo":"select name,value,type from v$parameter where name like 'TEMP%';\n\n命令行\ncat /dm8/data/DAMENG/dm.ini |grep TEMP_SIZE"},{"topic":"参数","id":"716b954eda76b876","children":[{"topic":"TEMP_PATH","id":"716b95f04378c510","memo":"temp表空间的路径"},{"topic":"TEMP_SIZE","id":"716b97f9101b9d72","memo":"temp表空间的初始值，单位为MB\n\n修改TEMP表空间大小，重启后依旧生效"},{"topic":"TEMP_SPACE_LIMIT","id":"716b9943294d1254","memo":"temp表空间的空间限制，0表示不限制"}]}]}]},{"topic":"用户","id":"716a93c80b109a5b","children":[{"topic":"类型","id":"716bb47fddccd109","children":[{"topic":"SYS","id":"716bb51ed4df7d80","memo":"内置用户，不能直接登陆"},{"topic":"SYSDBA","id":"716bb5b840e6cdf3","memo":"系统管理员，拥有DBA角色（除了安全、审计其他都管）"},{"topic":"SYSAUDITOR","id":"716bb63eec595550","memo":"系统审计管理员"},{"topic":"SYSSSO","id":"716bb7218ef46164","memo":"系统安全管理员"},{"topic":"SYSDBO","id":"716bb832586625b5","memo":"系统安全操作员（达梦安全版才有）"}]},{"topic":"操作","id":"716bc30b906482ed","children":[{"topic":"查询","id":"716be9218fe1e6e4","memo":"desc dba_users;","children":[{"topic":"查询指定用户 所有用的权限","id":"716d46273b6e86a7","memo":"select * from DBA_SYS_PRIVS where grantee = '用户名';\n\ndba_tab_privs\ndba_role_privs\ndba_col_privs","hyperLink":"E:/dailyfile/books/note/编程/达梦数据库/resource/指定用户用的权限.md","children":[{"topic":"DBA_SYS_PRIVS","id":"716d938a8264522e"},{"topic":"dba_tab_privs","id":"716d93f3501a9332","children":[]},{"topic":"dba_role_privs","id":"716d97b8ee382d0a"},{"topic":"dba_col_privs","id":"716d9a0dc83ddbfa"}]}]},{"topic":"创建","id":"716bc3c01db9d0eb","children":[{"topic":"密码策略","id":"716c7756c337e2d1","memo":"","children":[{"topic":"查询","id":"716c81ad84f88da6","memo":"select * from v$parameter where name = 'PWD_POLICY';\n"},{"topic":"调整","id":"716c84a5a976d8bd","memo":"alter system set 'PWD_POLICY' = 下图策略相加 both;\n","children":[{"topic":"0","id":"716c9ef48e7f6947","memo":"无策略"},{"topic":"1","id":"716c9ff4cdd55e95","memo":"不与用户名相同"},{"topic":"2","id":"716ca04146854eaa","memo":"不小于9位"},{"topic":"4","id":"716ca0e3e0473596","memo":"包含大写字母"},{"topic":"8","id":"716ca12a5da09916","memo":"包含数字"},{"topic":"16","id":"716ca1792b8e140c","memo":"包含标点符号"}]}]}],"memo":"create user 用户名 identified by 密码 [default] tablespace 表空间名;"},{"topic":"策略","id":"716cc08afcf38855","children":[{"topic":"密码","id":"716cc157b061e7ee","children":[{"topic":"错误次数","id":"716cdd71b07339f1","memo":"FAILED_LOGIN_ATTEMPS"},{"topic":"锁定时间","id":"716cdea8124d4270","memo":"PASSWORD_LOCK_TIME"},{"topic":"手动解锁&锁定","id":"716ce1084d173f1e","memo":"# 手动解锁\nalter user 用户名 account unlock;\n\n# 手动锁定\nalter user 用户名 account lock;"}],"memo":"# 将密码输错锁定次数改为5次，锁定时间为3分钟\nalter user 用户名 limit FAILED_LOGIN_ATTEMPS 5,PASSWORD_LOCK_TIME 3;\n"},{"topic":"用户","id":"716cc455d6bc0bf4","memo":"alter user username limit session_per_user 10, connect_idle_time unlimited;\n\nsession_per_user 用户会话数量限制\nconnect_idle_time  空间时间自动断开  单位 分钟","children":[{"topic":"会话限制","id":"716cd48992bffd48","memo":"session_per_user"},{"topic":"空闲时长","id":"716cd5b90a44245c","memo":"connect_idle_time"},{"topic":"查看限制","id":"716d07c71e468761","memo":"# 查看用户资源限制，例如最大并发数\nselect * from dba_users a,sysusers b where a.user_id = b.id;\n"}]}],"tags":["拓展"]},{"topic":"修改密码","id":"716c10f9c4dbeea8","memo":"alter user sysdba identified by sysdba;\n"},{"topic":"删除","id":"716bfd095f55267a","memo":"drop user username;\n\n有内容时\n\ndrop user username cascade;"}]}]},{"topic":"权限","id":"716a97c951244252","children":[{"topic":"角色","id":"716dc4c98e4bc7b3","children":[{"topic":"类型","id":"716da54c9a9d1979","children":[{"topic":"DBA","id":"716da621a80e7495","children":[],"memo":"系统管理员角色，拥有除审核、安全外的所有权限"},{"topic":"RESOURCE","id":"716da9b40a4c3d8f","memo":"具有在当前用户模式下定义对象的权限，例如create table等"},{"topic":"PUBLIC","id":"716db1c8f681a292","memo":"具有在当前用户模式下数据操作的权限，例如insert table等"},{"topic":"SOI","id":"716db5487431f891","memo":"系统表（SYS为前缀）的访问权限"},{"topic":"SVI","id":"716db987a0d49bc4","memo":"系统视图（VSYS为前缀）的视图权限"},{"topic":"VTI","id":"716dbb13b766c6c7","memo":"动态视图（Vdynamic_tables中的视图）的访问权限"}]},{"topic":"创建","id":"716dcaa2a33e5f2e","memo":"create role 角色名;"},{"topic":"授权","id":"716dcf343ba4c745","memo":"grant 权限 to 角色名;"},{"topic":"赋予用户","id":"716dd5c816a0379c","memo":"grant 角色名 to 用户名;"}]},{"topic":"权限管理","id":"716dc9df4a53c7e6","children":[{"topic":"最大并发量","id":"716de326eed6d2a7","memo":"# 设置用户名为hrtest的用户，最大连接数为3\nalter user hrtest limit SESSION_PER_USER 3;\n"},{"topic":"创建对象","id":"716e01b053cdbcd7","memo":"赋予非当前用户创建对象权限\n\n# 开启参数\nalter system set 'ENABLE_DDL_ANY_PRIV'=1 both;\n# 进行授权\ngrant create any table to hrtest;\n","hyperLink":"E:/dailyfile/books/note/编程/达梦数据库/resource/赋予非当前用户创建对象权限.md"},{"topic":"查询、修改、删除","id":"716e2ceb88e3892b","memo":"grant select on 模式名.表名 to 用户名;\n\ngrant update on 模式名.表名 to 用户名;\n\ngrant delete on 模式名.表名 to 用户名;"},{"topic":"回收权限","id":"716e3cf568b47327","memo":"revoke 角色名 from 用户名;\nrevoke 具体权限 from 用户名;"},{"topic":"权限转授","id":"716e5411be7cff9c","memo":"系统权限转授，with admin option\n对象权限转授，with grant option\n\n例子：\ngrant select on sysdba.t_test to hrtest with grant option;\n","children":[{"topic":"new node","id":"716e62250df37df6","memo":"加关键字 CASCADE\n\nrevoke select on sysdba.t_test from hrtest CASCADE;\n"}]}]}]},{"topic":"模式","id":"716a9900ce085388","children":[{"topic":"概念：对象集合","id":"716e875041fd1024","children":[{"topic":"表","id":"716e9c8a1ffb8507"},{"topic":"视图","id":"716e9d6564a0d735"},{"topic":"约束","id":"716e9e53e1eb7935"},{"topic":"索引","id":"716e9ee8ea0e415e"},{"topic":"序列","id":"716e9f6c050a341d"},{"topic":"触发器","id":"716ea05d959b9835"},{"topic":"存储过程/函数","id":"716ea38860d44c40"},{"topic":"包","id":"716ea7843f5a3d14"},{"topic":"同义词","id":"716ea83d0c9d82c6"},{"topic":"类","id":"716ea8ad6042fd47"},{"topic":"域","id":"716eaac0de01f6c5"}]},{"topic":"创建","id":"716ee2204e010036","memo":"# 创建模式前需要授予用户创建模式的权限\n\n\n# 创建模式\ncreate schema 模式名 authorization 用户名;\n/\n# 授予用户创建模式权限\ngrant create schema to 用户名;\n\n\n注意：如果在disql中执行此语句，空行后需要加上/再回车"},{"topic":"查询","id":"716ef1538cc4a973","memo":"查询系统中所有模式\nselect * from SYSOBJECTS a where a.\"TYPE$\" = 'SCH'\n","children":[{"topic":"模式和所属用户","id":"716f075d71ab57a6","memo":"select a.id scheid, a.name schename, b.id userid, b.name username\nfrom SYS.SYSOBJECTS a, SYS.SYSOBJECTS b\nwhere a.\"TYPE$\" = 'SCH' and a.pid = b.id;\n"},{"topic":"当前模式","id":"716f0d45b9346068","memo":"select sys_context('USERENV','CURRENT_SCHEMA');\n"},{"topic":"查询当前用户","id":"716f10289c7cc0e9","memo":"select user;\nselect sys_context('USERENV','CURRENT_USER');\n"}]},{"topic":"切换模式","id":"716f167a7f058cd4","memo":"set schema 模式名;\n\n注意：这个切换只对当前会话生效，目前没有方法可以设置永久生效"}],"memo":"与用户是 多对一关系\n\n系统建立一个用户时，会自动生成一个对应的模式\n\nOracle是一对一"},{"topic":"表管理","id":"71712e52189c99f2","children":[{"topic":"操作","id":"7171305944627ea4","children":[{"topic":"创建","id":"71714f4905db19fe","memo":"create table dmtest.t_testpid(\n\tpid int,\n\tpname varchar(10),\n\tlogtime datetime DEFAULT sysdate,\n\tsex bit\n) tablespace HRTBS;","children":[{"topic":"修改默认表空间","id":"717181ba7b63f617","memo":"alter user TESTUSER identified by \"TESTPWD\" default tablespace TEST;"},{"topic":"插入数据","id":"7171a016632a1db5","memo":"insert into table (col,col) values ('','')","children":[{"topic":"数据类型汇总","id":"7172049875a60f7b","hyperLink":"E:/dailyfile/books/note/编程/达梦数据库/resource/数据类型汇总.md"}]}]},{"topic":"复制他表","id":"71715036626583d7","children":[{"topic":"结构","id":"7171531ff2c54eea","memo":"# 只复制表结构（不带约束信息）\ncreate table t_emp03 as select * from dmhr.employee where 1=0;"},{"topic":"结构+数据","id":"71729c787353576b","memo":"# 复制表结构+表数据\ncreate table t_emp01 as select * from dmhr.employee;\n\ncreate table t_emp02 like dmhr.employee;"}]},{"topic":"字段调整","id":"7172a7dd49f5451e","children":[{"topic":"添加","id":"7172a92b7b2cc223","memo":"alter table dmtest.t_testpid add email varchar(20);"},{"topic":"修改","id":"7172aaf0133501a3","memo":"alter table dmtest.t_testpid modify email varchar(30);"},{"topic":"删除","id":"7172ab5c839d9677","memo":"alter table dmtest.t_testpid drop email;"}]},{"topic":"查询","id":"717676ec546af116","memo":"select TABLE_NAME  from dba_tables  where owner='模式名'","children":[{"topic":"所有字段名","id":"71767e847a80d131","memo":"select * from all_tab_columns where owner='模式名' and Table_Name='表名'"}]}]},{"topic":"约束","id":"717135b23e4af885","children":[{"topic":"类型","id":"7172b694fdd0af5a","children":[{"topic":"NOT NULL","id":"7172b74bfd2788c6","memo":"非空约束"},{"topic":"UNIQUE","id":"7172b8be8b218dd7","memo":"唯一约束，可以为空，简写为UK_表名_字段名\n\n与主键区别：\n一张表只能有一个主键，但是可以有多个唯一约束。"},{"topic":"PRIMARY KEY","id":"7172b94eab85477b","memo":"主键约束（唯一约束+非空约束），简写为PK_表名_字段名"},{"topic":"FOREIGN KEY","id":"7172ba5d108fb640","memo":"外键引用约束，引用的是另一张表（父表）的主键或唯一键。简写为FK_表名_字段名"},{"topic":"CHECK","id":"7172bd4fdad43023","memo":"检验约束，用户校验数据的准确性，简写为CK_表名_字段名"}]},{"topic":"添加","id":"71733bbf8d32564e","children":[{"topic":"主键","id":"7173456c3af46cf3","memo":"alter table dmtest.t_testpid add CONSTRAINT pk_testpid_pid PRIMARY key(\"pid\");"},{"topic":"外键","id":"717347e143001495","memo":"alter table dmtest.t_testchild add CONSTRAINT fk_testchild_pid FOREIGN key(\"pid\") REFERENCES dmtest.t_testpid(\"pid\");"},{"topic":"校验","id":"71734adbc07ae153","memo":"alter table dmtest.t_testchild add CONSTRAINT ck_testchild_salary CHECK (\"salary\">=3000);"},{"topic":"非空","id":"7173799e2cf70f87","memo":"--增加约束\nALTER TABLE test ALTER COLUMN \"MLH\" SET NOT NULL;\n\n--去掉约束\nALTER TABLE test modify  \"MLH\" NULL;"},{"topic":"唯一","id":"717398ebbd71d4dd","memo":"alter table test add CONSTRAINT unique_c1 UNIQUE (c1);"}]},{"topic":"禁用","id":"717341fe90707d8f","memo":"alter table 模式名.表名 disable constraint \"约束名\""},{"topic":"启用","id":"717354b3df5c7018","memo":"alter table 模式名.表名 enable constraint \"约束名\""},{"topic":"删除","id":"717344a01354cffc","memo":"alter table test2 drop constraint 外键名"},{"topic":"查询","id":"7173a81be6b8ee34","children":[{"topic":"唯一","id":"7173a925d375d4a8","memo":"select * from SYS.DBA_CONSTRAINTS where table_name='CONS_TAB' and constraint_type='U';"},{"topic":"外键","id":"7173b1a72319fded","memo":"select * from SYS.DBA_CONSTRAINTS where constraint_type='R' and table_name='CONS_TAB';\n"},{"topic":"非空","id":"7173b93e107f1ae0","memo":"select * from SYS.ALL_TAB_COLS where table_name='CONS_TAB' and nullable='N';\n"},{"topic":"主键","id":"7173c2e5bc06a05e","memo":"select * from SYS.ALL_TAB_COLS where table_name='CONS_TAB' and nullable='P';\n"}]}]},{"topic":"索引","id":"7171365c46cbe899","children":[{"topic":"概念","id":"717487b313eb8f90","hyperLink":"E:/dailyfile/books/note/编程/达梦数据库/resource/索引概念.md"},{"topic":"创建","id":"7173cccf27b5c1b7","memo":"create index idx_表名_字段名 ON 表名 (字段名,字段名);\n","children":[{"topic":"唯一","id":"7174e6813c1d7950","memo":"create unique index ind_t2 on t2(id);"},{"topic":"复合","id":"7174f8ca4337eef9","memo":"Sql>create index ind_emp_dep on dmhr.employee(employee_id,department_id) tablespaceind_tbs;\n"}]},{"topic":"删除","id":"7175ac0bb218805a","memo":"DROP INDEX dmhr.IND_EMP_DEP;"},{"topic":"查询","id":"7175b479d791f0ad","memo":"","children":[{"topic":"所有","id":"7175c8118940ba3f","memo":"select name,id,subtype$ from sysobjects where subtype$='INDEX' and name='IND_EMP';"},{"topic":"指定","id":"7175c900b678e75c","memo":"Sql>SELECT INDEXDEF(33555516, 0); 或 SELECT INDEXDEF(33555516, 1);\n"}]},{"topic":"更多","id":"7175b61771544649","hyperLink":"E:/dailyfile/books/note/编程/达梦数据库/resource/索引.md"}]},{"topic":"视图","id":"71713737bc3bc829","children":[{"topic":"创建","id":"7176b769be4fd4e1","memo":"create or replace view tab_view_cs_v as select id, name from tab_view_cs where sex='female';"},{"topic":"查询","id":"7176c530fe34a5f5","memo":"select name from tab_view_cs_v;"},{"topic":"删除","id":"7176c653c33ba2c6","memo":"drop view tab_view_cs_v;"},{"topic":"更多","id":"7176dc1bdaa1914f","hyperLink":"E:/dailyfile/books/note/编程/达梦数据库/resource/视图.md"}]}]},{"topic":"系统视图、查询","id":"7177131ba47bbdad","hyperLink":"E:/dailyfile/books/note/编程/达梦数据库/resource/系统视图、查询.md"}],"direction":0},{"topic":"日志归档、备份还原","id":"7167002309b37e6a","children":[{"topic":"日志重做","id":"716aabd91aaa1989","memo":"重做日志：用于记录redo信息，重做日志默认为256M，数据库中的增、删、改操作都会记录redo和undo信息\nredo信息写入联机日志文件，undo写入roll表空间对应的数据文件中\n达梦的联机日志只支持系统自动切换，不支持手动切换（oracle支持）","children":[{"topic":"查看联机日志","id":"7177c45fd07a2d78","memo":"## 当前正在使用的联机日志\nselect * from v$rlog;\nselect * from v$logfile;\n"},{"topic":"创建","id":"7177c9f2e98f597b","memo":"alter database add logfile '日志名称' size 日志大小(单位MB);\n\nalter database add logfile 'DAMENG03.log' size 128"},{"topic":"修改大小(达梦只支持往大改)","id":"7177d5fcf91a9b81","memo":"alter database resize logfile '日志路径' to 日志大小(单位MB);\n\nalter database resize logfile '/dm8/data/DAMENG/DAMENG03.log' to 256;"},{"topic":"改mount状态","id":"7177e39fe738058f","memo":"alter database mount;"},{"topic":"改日志路径","id":"7177ec690a9a2669","memo":"alter database rename logfile '原日志路径' to '迁移到的日志路径';"},{"topic":"改open状态","id":"7177ee569702f4d5","memo":"alter database open;"}]},{"topic":"归档","id":"716aa1cb75e853f8","children":[{"topic":"开启","id":"717804d0309e8c1a","children":[{"topic":"改mount状态","id":"717807c109d5eb5c","memo":"alter database mount;"},{"topic":"打开","id":"717809a6ac65e2ea","memo":"alter database archivelog;"},{"topic":"配置路径","id":"71780b2a4cc03512","memo":"alter database add archivelog 'type=local,dest=/dm8/arch,file_size=64,space_limit=10240';"},{"topic":"改open状态","id":"71780c0d31984283","memo":"alter database open;"},{"topic":"查询归档状态","id":"7178179e132fa23f","memo":"select arch_mode from v$database;"},{"topic":"查看归档文件","id":"717819e1ddf13c5e","memo":"select * from SYS.\"V$ARCH_FILE\";"},{"topic":"查询归档配置","id":"71781b0a52ffb198","memo":"select * from v$dm_arch_ini;"}]},{"topic":"关闭","id":"717829ee56965513","children":[{"topic":"mount状态","id":"71782a8dad3cd052"},{"topic":"关闭归档","id":"71782bfb689a0ec6","memo":"alter database noarchivelog;"},{"topic":"删除文件","id":"7178350565c65840","memo":"alter database delete archivelog 'type=local,dest=/dm8/arch';"},{"topic":"open状态","id":"71783f7cb8c5f70b","memo":"alter database open;"},{"topic":"查询","id":"717842053884820b","memo":"select arch_mode from v$database;"}]},{"topic":"命令行查看状态","id":"71784e37889544eb","memo":"# 查看归档状态是否开启，0关闭、1开启\ncat dm.ini|grep ARCH_INI"}],"memo":"归档是对REDO的归档，备份归档是为了防止数据丢失，利用归档文件可以恢复数据库里的数据"},{"topic":"备份还原","id":"716aad8fb4bb6a8b","children":[{"topic":"联机","id":"7179439715126750","children":[{"topic":"打开归档","id":"717b4093e1ec32d9"},{"topic":"库级","id":"717b296133e310ce","children":[{"topic":"全备","id":"71796a53546e1263","memo":"SQL>backup database full [to ONLINEBAK_01] backupset\n'/dm8/backup/full/ONLINEBAK_01';\n"},{"topic":"增量","id":"71796b36f0953be4","memo":"SQL>backup database increment [WITH BACKUPDIR  | BASE ON BACKUPSET]\n'/dm8/backup/full/ONLINEBAK_01' [to ONLINEBAKINCR_01]\nbackupset '/dm8/backup/incr/ONLINEBAK_01' ;\n"}]},{"topic":"表空间级","id":"717b326bcd25aadd","children":[{"topic":"增量","id":"717b548acff53d66","memo":"backup tablespace dmtbs INCREMENT with BACKUPDIR '/dm8/backup/full/' to\nDMTBSINCR_01 backupset '/dm8/backup/incr/DMTBSINCR_01' ;"},{"topic":"全备","id":"717b5a733885922d","memo":"backup tablespace main backupset '/dm8/dmbak/ts_full_bak_01';"},{"topic":"还原","id":"717b7194260dff62","children":[{"topic":"下线","id":"717b726b7477c675","memo":"ALTER TABLESPACE MAIN OFFLINE; "},{"topic":"还原","id":"717b7441a60705c8","memo":"RESTORE TABLESPACE MAIN FROM BACKUPSET '/dm8/backup/incr/DMTBSINCR_01'; \n\n注：可自由指定 增量文件、全备文件 和 归档文件"},{"topic":"上线","id":"717b74c78e03da98","memo":"ALTER TABLESPACE MAIN ONLINE; "}]}]},{"topic":"表级","id":"717b9230a8ae7d81","children":[{"topic":"无需归档","id":"717b93683716fe63"},{"topic":"备份","id":"717b94d1dd9ae0e4","memo":"backup table tablename backupset '/home/dmdba/dmbak';"},{"topic":"还原","id":"717ba978142e29bd","children":[{"topic":"结构还原","id":"717baa5f7c94528a","memo":"restore  table  struct  tablename  from backupset '/home/dmdba/dmbak';"},{"topic":"数据还原","id":"717bab71ecf60608","memo":"restore  table     tablename  from backupset '/home/dmdba/dmbak';"}],"memo":"执行表结构还原，表备份和表中都包含索引，如果直接执行表数据还原会报错；还原表中存在二级索引或冗余约束"}]},{"topic":"归档级","id":"717bb64c759b9e2b","memo":"BACKUP ARCHIVE LOG ALL BACKUPSET 'arch_bak_01';"}]},{"topic":"脱机","id":"7179448ae34ab6bd","children":[{"topic":"库级","id":"717bcd55f497459b","children":[{"topic":"全备","id":"717bdf0500dcf5c3","memo":"backup database '/dm8/data/DM/dm.ini' FULL BACKUPSET '/home/dm_bak/db_full_bak_01';"},{"topic":"增量","id":"717be30ffc3dec50","memo":"BACKUP DATABASE '/opt/dmdbms/data/DAMENG/dm.ini' INCREMENT WITH BACKUPDIR '/home/dm_bak ' BACKUPSET '/home/dm_bak/db_increment_bak_02';"},{"topic":"还原","id":"717c2c862cd80a80","memo":"restore database '/dm8/data/DM/dm.ini' from backupset \n'/dm8/backup/full/ONLINEBAK_02';"},{"topic":"恢复","id":"717c2ea6b5c33cea","children":[{"topic":"归档","id":"717c2fafbbc4a3e5","memo":"recover database '/dm8/data/DM/dm.ini' with archivedir '/dm8/arch';"},{"topic":"备份集","id":"717c3084aaf32c89","memo":"RECOVER DATABASE '/opt/dmdbms/data/DAMENG_FOR_RESTORE/dm.ini' FROM BACKUPSET '/home/dm_bak/db_full_bak_for_recover_backupset'; "},{"topic":"魔数","id":"717c3182f4b71aab","memo":"recover database '/dm8/data/DM/dm.ini' update db_magic;"}]}]},{"topic":"表空间级","id":"717c5b2c33441f89","children":[{"topic":"还原","id":"717c68fddfd08bdf","memo":"restore database '/dm8/data/DAMENG/dm.ini' tablespace main from backupset \n'/dm8/backup/full/CONSOLEFULLBAK';"},{"topic":"恢复","id":"717c6d6c767c6635","memo":"recover database '/dm8/data/DAMENG/dm.ini' tablespace main;"}]},{"topic":"归档级","id":"717c8fccf40d9d1b","children":[{"topic":"备份","id":"717c909673988463","memo":"BACKUP ARCHIVE LOG ALL DATABASE '/opt/dmdbms/data/DAMENG/dm.ini'   BACKUPSET '/home/dm_bak/arch_all_bak_01';"}]}]},{"topic":"逻辑","id":"717946fcc6e7ef81","children":[{"topic":"导出","id":"717c979ddef058d2","children":[{"topic":"库","id":"717c9e25929e1418","memo":"/dm8/bin/dexp sysdba/SYSDBA DIRECTORY=/dm8/backup/  FILE= full.dmp LOG= full.log FULL=y"},{"topic":"用户","id":"717c9eed8ef3c0f8","memo":"/dm8/bin/ dexp sysdba/SYSDBA DIRECTORY=/dm8/backup/  FILE= DMTEST.dmp LOG= DMTEST.log OWNER=DMTEST​\n\n\n​注：要导出多个用户时，可以用逗号隔开，语法为OWNER=<用户名>{,<用户名>}，如果用户名在数据库中显示为小写，需要用双引号括起来。"},{"topic":"模式","id":"717c9f5f2d9e5183","memo":" /dm8/bin/dexp  sysdba/SYSDBA DIRECTORY=/dm8/backup/  FILE= DMTEST.dmp LOG= DMTEST.log schemas=DMTEST​\n\n注：一般情况下，owner与schemas导入导出是相同的。但是用户可以包含多个模式，在这种情况下schemas的导入导出是owner导入导出的一个子集。"},{"topic":"表","id":"717ca0626f969f19","memo":"/dm8/bin/dexp  sysdba/SYSDBA DIRECTORY=/dm8/backup/  FILE= EXP_TESTPID.dmp LOG= EXP_TESTPID.log tables=DMTEST.T_TESTPID​"}]},{"topic":"导入","id":"717c992a504a54ba","children":[{"topic":"库","id":"717ca2456f92339b","memo":" /dm8/bin/dimp sysdba/SYSDBA​​D IRECTORY=/dm8/backup/  file= full.dmp log=dimpfull.log full=y\n"},{"topic":"模式","id":"717ca32ede8189fd","memo":"不同模式下的对象导入：\n/dm8/bin/dimp sysdba/SYSDBA DIRECTORY=/dm8/backup/  file= full.dmp log=dimpdmhr.log remap_schema=DMTEST1:DMTEST2​\n\n​注：remap_schema参数代表DMTEST1模式下对象导入到 DMTEST2 中"},{"topic":"用户","id":"717ca3b85cd86dbb","memo":"/dm8/bin/dimp sysdba/SYSDBA DIRECTORY=/dm8/backup/  file= DMTEST.dmp log=dimpDMTEST.log owner=DMTEST"},{"topic":"表","id":"717ca42132b27ca1","memo":"/dm8/bin/dimp sysdba/SYSDBA DIRECTORY=/dm8/backup/  file= _TESTPID.dmp log=dimp_TESTPID.log tables=DMTEST.T_TESTPID\n"}]}]},{"topic":"备份集管理","id":"717ce7c5a0cbe8dd","hyperLink":"E:/dailyfile/books/note/编程/达梦数据库/resource/备份集.md"}]}],"direction":1},{"topic":"作业管理","id":"71670d1422f9b868","direction":0,"children":[{"topic":"代理初始化","id":"717dfb4e8f1c277a","memo":"SP_INIT_JOB_SYS(1);\n\n如果数据库以前从未启用过代理，那么首先要对其进行初始化操作"},{"topic":"创建作业","id":"717dffeafed9db82","children":[{"topic":"创建语句","id":"717e08896d44a8f9","memo":"","children":[{"topic":"JOB_NAME","id":"717e2232ef3cc539","tags":["作业名称"]},{"topic":"ENABLED INT","id":"717e256a9eb514d9","tags":["启用"],"memo":"1 启用\n0 不启用"},{"topic":"ENABLE_EMAIL","id":"717e26cfb96fa945","tags":["启用邮件"],"memo":"1 Y\n0 N"},{"topic":"ENABLE_OPTR_NAME","id":"717e28e3f8530f56","tags":["操作员名称"]},{"topic":"EMAIL_TYPE","id":"717e2cd46eef8c9f","tags":["发送情况"],"memo":"0 执行成功\n1 执行失败\n2 执行结束"},{"topic":"ENABLED_NETSEND","id":"717e2e832e6c5011","tags":["网络发送"],"memo":"1 是\n0 否\n\n将作业相关日志，通过网络发送通知"},{"topic":"NETSEND_OPTR_NAME","id":"717e3037937a6347","tags":["操作员名称"]},{"topic":"NETSENTD_TYPE","id":"717e3533f22c05de","tags":["发送情况"],"memo":"同邮件"},{"topic":"DESCRIBE","id":"717e3695067fd58e","tags":["描述信息"]}]},{"topic":"创建","id":"717e9422be9d8f5b","memo":"call SP_CREATE_JOB('test',1,0,'',0,0,'',0,'sqlback');\n"},{"topic":"修改","id":"717f012814a52a1e","memo":"SP_ALTER_JOB('test',1,0,'',0,0,'',0,'修改备注信息');"},{"topic":"重新配置&生效","id":"717f038cafbe40cb","memo":"作业属性修改后需要重新配置作业，使其生效\n\nSP_JOB_CONFIG_START('test'); \nSP_JOB_CONFIG_COMMIT('test');"},{"topic":"删除","id":"717f07b1d276c4f2","memo":"SP_DROP_JOB('TEST');"}],"memo":"语法如下：\nSP_CREATE_JOB (\nJOB_NAME VARCHAR(128),\nENABLED INT,\nENABLE_EMAIL INT,\nEMAIL_OPTR_NAME VARCHAR(128),\nEMAIL_TYPE INT,\nENABLED_NETSEND INT,\nNETSEND_OPTR_NAME VARCHAR(128),\nNETSEND_TYPE INT,\nDESCRIBE VARCHAR(8187)\n)"},{"topic":"配置作业","id":"717ff0c3f0a964cc","children":[{"topic":"配置语法","id":"717e91ab25609162","memo":"语法如下：\nSP_ADD_JOB_STEP (\nJOB_NAME VARCHAR(128),\nSTEP_NAME VARCHAR(128),\nTYPE INT,\nCOMMAND VARCHAR(8187),\nSUCC_ACTION INT,\nFAIL_ACTION INT,\nRETRY_ATTEMPTS INT,\nRETRY_INTERVAL INT,\nOUTPUT_FILE_PATH VARCHAR(256),\nAPPEND_FLAG INT\n)","children":[{"topic":"JOB_NAME","id":"717f8f0fd69f5229","tags":["作业名"]},{"topic":"STEP_NAME","id":"717f9015735c09eb","tags":["步骤名"]},{"topic":"TYPE","id":"717f929b996347b9","children":[{"topic":"0","id":"71802e7993863a62","tags":["SQL语句"]},{"topic":"1","id":"7180337e10a031f4","tags":["V1.0 备份还原"],"memo":"无 WITHOUT LOG 和 PARALLEL选项"},{"topic":"2","id":"71804196abdf2671","tags":["重组数据库"]},{"topic":"3","id":"7180448afaa178a3","tags":["更新统计信息"]},{"topic":"4","id":"718044c8e224f866","tags":["执行DTS"],"memo":"数据库迁移\n"},{"topic":"5","id":"71804506ac513ec9","tags":["V1.0 备份还原"],"memo":"有 WITHOUT LOG 和 PARALLEL选项"},{"topic":"6","id":"7180453367471fb2","tags":["V2.0 备份还原"]}],"tags":["执行类型"]},{"topic":"COMMAND","id":"717f9334479b105b","children":[{"topic":"0. SQL语句块","id":"71805c0f6c6a7b2e","memo":"多条语句用 分号隔开。\n不支持多条 DDL 语句执行。","tags":["SQL语句"]},{"topic":"1. 字符串","id":"718069b2460735da","children":[{"topic":"备份类型","id":"71806d68d1417696","memo":"0 完全备份\n1 增量备份","tags":["1"]},{"topic":"压缩","id":"71807e20a55b6064","tags":["2"],"memo":"0 不压缩\n1 压缩\n\n备份时是否压缩"},{"topic":"文件路径","id":"718087a3c5de16a3","tags":["3"],"memo":"不指定，自动生成备份路径\n\n指定：\n1. 备份路径\n2. 增量备份：基备份路径1，路径2|备份路径\n\n注: 多个基备份路径用,隔开，基备份路径与备份路径用 | 隔开"}],"tags":["V1.0 备份"]},{"topic":"2-4. 语句/过程","id":"7180db016c2ae399"},{"topic":"5. 字符串","id":"7180e0db8556d619","tags":["V1.0 备份"],"children":[{"topic":"备份类型","id":"7180f4f7ae6aeeee","tags":["1"],"memo":"0 完全备份\n1 增量备份"},{"topic":"压缩","id":"7180f677f8daa607","tags":["2"],"memo":"0 不压缩\n1 压缩"},{"topic":"备份日志","id":"7180f7315f67db33","tags":["3"],"memo":"0 备份\n1 不备份"},{"topic":"并行备份","id":"7180f7e556297c23","tags":["4"],"memo":"0 普通备份\n1 并行备份\n\n并行备份映射放到最后，以\"|\"分割"},{"topic":"保留字符","id":"7180fe8b9efe43ef","tags":["5"],"memo":"用 0 填充"},{"topic":"文件路径","id":"7180ff7e50ece050","tags":["6"],"memo":"若有并行备份映射，则在原路径的最后以 \"|\" 分割路径\n\n例如：\nE:\\base_bakdir1, base_bakdir2|bakdir"}]},{"topic":"6. 字符串","id":"7181841a86d22317","tags":["V2.0 备份"],"children":[{"topic":"备份类型","id":"71818ad524c1a198","tags":["1 /3 归档"],"memo":"0 完全备份\n1 增量备份\n3 归档备份"},{"topic":"压缩","id":"7181bf9655ec710f","tags":["2"],"memo":"0 不压缩；1 压缩"},{"topic":"日志","id":"7181c26e30d5cd03","tags":["3"],"memo":"0 备份；1 不备份"},{"topic":"并行数","id":"7181c30b247af482","tags":["4"],"memo":"取值 0 到 9。其中，0 表示不进行并 行备份；1 表示使用并行数默认值 4；2~9 表示并行数。"},{"topic":"USEPWR","id":"7181cac151659bab","tags":["5"],"memo":"表示并行备份时，是否使用 USE PWR 优化增量备份。\n\n0 不 使用；1 使用。\n\n（只是语法支持，没有实际作用）"},{"topic":"MAXPIECESIZE","id":"7181cd751455c502","tags":["6"],"memo":"表示备份片大小的上限（MAXPIECESIZE）。\n\n0 表示默认值， \n1~9 表示依次表示备份片的大小，\n1 则为 128M 备份片大小，\n9 表示 32G 的备份片大小。"},{"topic":"RESV1","id":"7181cf72466f6c46","tags":["7"],"memo":"表示是否在备份完归档后，删除备份的归档文件。\n0 不删除； 1 删除。"},{"topic":"RESV2","id":"7181d03d7fcde33b","tags":["8"],"memo":"是一个保留字符，用 0 填充。"},{"topic":"文件路径","id":"7181d761fbe3cb24"}]}],"tags":["执行内容"]},{"topic":"SUCC_ACTION","id":"717f94687b379ceb","memo":"0 表示执行下一步。 1 表示报告执行成功，并执行下一步。"},{"topic":"FAIL_ACTION","id":"717f9a513935b25e","memo":"0 表示执行下一步。 2 表示报告执行失败，并结束作业。"},{"topic":"RETRY_ATTEMPTS","id":"71810d95dbb98024","memo":"执行失败后，需要重试的次数。\n取值范围 0~100 次。"},{"topic":"RETRY_INTERVAL","id":"71810f8922ea11e0","memo":"重试之间的间隔时间。\n不能大于 10 秒钟。"},{"topic":"OUTPUT_FILE_PATH","id":"7181113f23622814","memo":"表示步骤执行时输出文件的路径。\n该参数已废弃，没有实际意义。\n填 null"},{"topic":"APPEND_FLAG","id":"7181131bbe4b775f","memo":"输出文件的追写方式\n1 是；0 否。如果是 0，那么从文件指针当前指向的位置开始追写。"}]},{"topic":"配置步骤","id":"718266ddb72dbe26","memo":"call SP_ADD_JOB_STEP('test', 'bf_sql', 0, 'Backup  tablespace tbs2 backupset ' '/dm7/bacp/tbs3ku_bak'';', 1, 2, 0, 0, NULL, 0);\n\n操作示例 例题，为作业test增加步骤名为bf_sql,步骤类型为一段sql语句类型（0），紧接是sql备份语句以及备份路径，步骤成功后执行下一步（1），步骤失败后报告失败并结束作业（2），步骤失败后不需要重试（0），每两次步骤重试执行的间隔时间（0），该参数已废弃（null），如果指定了输出文件，写入的时候从末尾开始写（0）\n"},{"topic":"修改步骤","id":"71827211018a2d1a","memo":"修改下路径\nSP_ALTER_JOB_STEP('test', 'bf_sql', 0, 'Backup  tablespace tbs2 backupset ' '/dm7/bacp/tbs3new_bak'';', 1, 2, 0, 0, NULL, 0);\n"},{"topic":"生效","id":"7182775b6d040057","memo":"SP_JOB_CONFIG_START('test'); \nSP_JOB_CONFIG_COMMIT('test');\n"},{"topic":"删除","id":"7182793e9d1a3f23","memo":"SP_JOB_CONFIG_START('test'); \nSP_JOB_CONFIG_COMMIT('test');\n"}]},{"topic":"配置调度","id":"71850338e39a1734","children":[{"topic":"调度语法","id":"718505dc65029457","memo":"SP_ADD_JOB_SCHEDULE (\nJOB_NAME VARCHAR(128),\nSCHEDULE_NAME VARCHAR(128),\nENABLE INT,\nTYPE INT,\nFREQ_INTERVAL INT,\nFREQ_SUB_INTERVAL INT,\nFREQ_MINUTE_INTERVAL INT,\nSTARTTIME VARCHAR(128),\nENDTIME VARCHAR(128),\nDURING_START_DATE VARCHAR(128),\nDURING_END_DATE VARCHAR(128),\nDESCRIBE VARCHAR(500)\n)","children":[{"topic":"JOB_NAME","id":"71850f429da9b616","tags":["作业名称"]},{"topic":"SCHEDULE_NAME","id":"7185139560475931","tags":["调度名称"],"memo":"待创建的调度名称\n"},{"topic":"ENABLE","id":"71851554526bafdf","tags":["启用"],"memo":"1 启用\n0 不启用\n"},{"topic":"TYPE","id":"71851720214e7126","tags":["调度类型"],"children":[{"topic":"0","id":"71853d97a21cd03f","tags":["执行一次"]},{"topic":"1","id":"71853ea9ac778815","tags":["天"],"memo":"freq_interval 取值 1~100"},{"topic":"2","id":"71853edf2f407402","tags":["周"]},{"topic":"3","id":"71853f11e8825137","tags":["月的n号"],"memo":"每几个月的某一天执行"},{"topic":"4","id":"71853f5c4d44f2d5","tags":["第1周的第n日"],"memo":"每几个月的第一周执行"},{"topic":"5","id":"7185410e48c58b7a","tags":["第2周的第n日"]},{"topic":"6","id":"718541a969b6b718","tags":["第3周的第n日"]},{"topic":"7","id":"7185422279bdb651","tags":["第4周的第n日"]},{"topic":"8","id":"7185429e2f434afe","tags":["最后一周第n日"]}]},{"topic":"FREQ_INTERVAL","id":"718517763214f742","memo":"取值看type","tags":["频率"]},{"topic":"FREQ_SUB_INTERVAL","id":"71851999840f398e","memo":"0、1 无效  null\n2 取值1~127 以二进制，从低位到高位一次表示 周日、周一、...周六\n例如: 选中周二周六 1000100 转化十进制 68. 则填 68\n\n3 1~31\n4-8 取值 1~7","tags":["次级频率"]},{"topic":"FREQ_MINUTE_INTERVAL","id":"71851b398c0aac94","tags":["分钟频率"],"memo":"一天内间隔分钟，执行\n取值 1~1440  单位分钟"},{"topic":"STARTTIME","id":"71851dd91d77794a","tags":["起始时间"],"memo":"必须是有效字符串，不可为空\n\n例如：'16:35:40'"},{"topic":"ENDTIME","id":"71851ecc98b04f93","tags":["结束时间"],"memo":"可以为空 NULL\n\n"},{"topic":"DURING_START_DATE","id":"71851f7439212959","tags":["起始日期"],"memo":"不可为空\n例如：2020-08-29 16:51:40"},{"topic":"DURING_END_DATE","id":"718520e8e924ec91","tags":["结束日期"],"memo":"可以为空 NULL"},{"topic":"DESCRIBE","id":"71852295c4ead5a9","tags":["注释"],"memo":"最长500字节"}]},{"topic":"创建调度","id":"71864fe978d4ef5c","memo":"SP_ADD_JOB_SCHEDULE('test', 'bf_sql',  1, 1, 1, 0, 0, '16:35:40', NULL, '2020-08-29 16:51:40', NULL, '一个测试调度');\n\n操作示例 例如我们调度的作业为test，调度名称为bf_sql,状态为启用（1），调度类型按天的频率来执行（1），每周多少天执行一次（1），更为精准的时间指定频率（0-无效不检查），多少分钟执行一次（0）,定义作业被调度的起始时间（16:35:40），定义作业被调度结束时间（null）,指定作业被调度的起始时间（2020-08-29 16:51:40），指定作业被调度结束日期（null），备注说明（一个测试调度）"},{"topic":"修改调度","id":"71865ddb2c291a77","memo":"修改下备注\nSP_ALTER_JOB_SCHEDULE('test', 'bf_sql',  1, 1, 1, 0, 0, '16:35:40', NULL, '2020-08-29 16:51:40', NULL, '新的备注');\n"},{"topic":"删除调度","id":"718663f14a244d3d","memo":"SP_DROP_JOB_SCHEDULE(‘test’,’bf_sql’)\n"}]},{"topic":"其他","id":"7186793b249de425","children":[{"topic":"提交作业配置","id":"71867a599240a599","memo":"call SP_JOB_CONFIG_COMMIT('test');\n"},{"topic":"查看历史记录","id":"71867d6db1db956e","memo":"select * from sysjob.sysjobhistories;\n"},{"topic":"执行情况","id":"718680ef2a74f973","memo":"select * from sysjob.sysjobschedules\n"},{"topic":"存放路径","id":"718683a48d033f2d","memo":"select * from sysjob.sysjobschedules\n"},{"topic":"查看作业","id":"7186866374267126","memo":"select * from sysjob.sysjobs;"}]}],"tags":["Stored Procedure"],"root":true},{"topic":"ODBC安装&配置","id":"71672de2d9a903e5","direction":1,"children":[{"topic":"yum安装","id":"7186b3abbf14e08c","memo":"yum install unixODBC.x86_64 unixODBC-devel.x86_64 -y\n\nfind / -name libodbcinst.so"},{"topic":"编译安装","id":"7186bb3e08698ee6","children":[{"topic":"下载","id":"7186c5ac7c716d56","memo":"http://www.unixodbc.org/download.html\n\nweget -O https://www.unixodbc.org/unixODBC-2.3.11.tar.gz\n\n"},{"topic":"解压缩","id":"7186e4aadd8259b3","memo":"tar xzvf unixODBC-2.3.0.tar.gz"},{"topic":"安装","id":"7186e8f3699d9050","memo":"cd unixODBC-2.3.0\n./configure\nmake\nmake install"},{"topic":"修改配置","id":"7186f9a84a8c8e3d","memo":"cd /usr/local/etc/\nvim odbc.ini\n\n[DM8] # 这个按要求改\nDescription = DM ODBC DSN\nDriver = DM8 ODBC DRIVER # 要和下面对应\nSERVER = localhost\nUID = SYSDBA\nPWD = SYSDBA\nTCP_PORT = 5236\n","children":[{"topic":"修改配置(2)","id":"71871241f4cfc593","memo":"vim odbcinst.ini\n\n[DM8 ODBC DRIVER] # 这块要和上边对应\nDrscription = ODBC DRIVER FOR DM8\nDriver = /dm8/bin/libdodbc.so\n"}]},{"topic":"加载配置","id":"718723c141d3b4cb"}]},{"topic":"切换用户并登录","id":"7187186610eabe27","memo":"su - dmdba\nisql dm8 -v"}]}],"hyperLink":"https://blog.csdn.net/world_java/article/details/124200859"},"linkData":{},"direction":1}